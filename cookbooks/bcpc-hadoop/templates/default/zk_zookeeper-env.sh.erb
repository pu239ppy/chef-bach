#! /bin/bash

################################################
#
#              Generated by Chef
#
################################################

export JAVA_HOME=<%= node["bcpc"]["hadoop"]["java"] %>
export ZOO_LOG_DIR=/var/log/zookeeper
export ZOO_PID_DIR=/var/run/zookeeper
export ZOOPIDFILE=$ZOO_PID_DIR/zookeeper-server
export ZOOCFGDIR=<%= node[:bcpc][:hadoop][:zookeeper][:conf_dir] %>
export ZOO_DATADIR_AUTOCREATE_DISABLE=1
<% if node[:bcpc][:hadoop].attribute?(:jmx_enabled) and node[:bcpc][:hadoop][:jmx_enabled] %>
export JMXPORT=<%= @zk_jmx_port %>
<% end %>

<% if node[:bcpc][:hadoop][:enable_kerberos] == true %>
export SERVER_JVMFLAGS="-Djava.security.auth.login.config=/etc/zookeeper/conf/zookeeper-server.jaas"
export CLIENT_JVMFLAGS="-Djava.security.auth.login.config=/etc/zookeeper/conf/zookeeper-client.jaas"
<% end %>
